<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meditation App</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: #f3f3f3;
        }
        .vid-container {
            width: 100%;
            height: 300px;
            overflow: hidden;
        }
        video {
            width: 100%;
        }
        .player-container, .sound-picker, .time-options {
            margin: 20px 0;
        }
        .play {
            background: green;
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        .time-display {
            font-size: 24px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="vid-container">
            <video id="meditation-video" src="Sounds/beach.mp4" loop></video>
        </div>
        <div class="player-container">
            <button class="play">Play</button>
        </div>
        <div class="sound-picker">
            <button data-sound="Sounds/beach.mp3" data-video="Sounds/beach.mp4">Meditation A</button>
            <button data-sound="Sounds/rain.mp3" data-video="Sounds/rain.mp4">Meditation B</button>
        </div>
        <div class="time-options">
            <button id="smaller-mins" data-time="120">2 Min</button>
            <button id="medium-mins" data-time="300">5 Min</button>
            <button id="long-mins" data-time="600">10 Min</button>
        </div>
        <div class="time-display">10:00</div>
    </div>
    <audio id="meditation-audio" src="Sounds/beach.mp3" loop></audio>
    <script>
        const video = document.getElementById("meditation-video");
        const audio = document.getElementById("meditation-audio");
        const playButton = document.querySelector(".play");
        const timeButtons = document.querySelectorAll("[data-time]");
        const soundButtons = document.querySelectorAll(".sound-picker button");
        const timeDisplay = document.querySelector(".time-display");

        let duration = 600;
        let timer;
        
        playButton.addEventListener("click", () => {
            if (audio.paused) {
                audio.play();
                video.play();
                playButton.textContent = "Pause";
                startTimer();
            } else {
                audio.pause();
                video.pause();
                playButton.textContent = "Play";
                clearInterval(timer);
            }
        });
        
        timeButtons.forEach(button => {
            button.addEventListener("click", function() {
                duration = parseInt(this.getAttribute("data-time"));
                timeDisplay.textContent = formatTime(duration);
            });
        });
        
        soundButtons.forEach(button => {
            button.addEventListener("click", function() {
                audio.src = this.getAttribute("data-sound");
                video.src = this.getAttribute("data-video");
                if (!audio.paused) {
                    audio.play();
                    video.play();
                }
            });
        });
        
        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                if (duration <= 0) {
                    clearInterval(timer);
                    audio.pause();
                    video.pause();
                    playButton.textContent = "Play";
                    return;
                }
                duration--;
                timeDisplay.textContent = formatTime(duration);
            }, 1000);
        }
        
        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = seconds % 60;
            return `${min}:${sec < 10 ? "0" : ""}${sec}`;
        }
    </script>
</body>
</html>
